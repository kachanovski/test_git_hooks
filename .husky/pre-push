#!/bin/bash
# Prevents force-pushing to master

echo -e "–í–∂—É—Ö-–≤–∂—É—Ö –∏ —Å—Ç–∞—Ä—Ç–∞–Ω—É–ª–∏..."

BRANCH=`git rev-parse --abbrev-ref HEAD`
PROTECTED_BRANCHES="^(main|dev)"

if [[ "$BRANCH" =~ $PROTECTED_BRANCHES ]]
then
  echo -e "\nüö´ –í–µ—Ç–∫–∞ - $BRANCH, –∑–∞—â–∏—â–µ–Ω–∞, —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–≤–ª–µ–Ω–∏–µ –∏–∑ —Ç–µ–∫—É—â–µ–π –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ü–† ." && exit 1
fi

echo -e "–í–∂—É—Ö-–≤–∂—É—Ö –∏ –∑–∞–ø—É—à–∏–ª–∏—Å—å..."

exit 0
